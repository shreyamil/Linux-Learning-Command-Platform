<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Linux Commands Learning Platform - rm & rmdir Command</title>
  <style>
    body {
      background-color: #121212;
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
    }
    h1, h2 {
      color: #f0c93d;
    }
    h3 {
      color: #35c7f3;
    }
    a {
      color: #35c7f3;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    nav a {
      margin-right: 15px;
      font-weight: bold;
    }
    header {
      margin-bottom: 20px;
      border-bottom: 2px solid #35c7f3;
      padding-bottom: 10px;
    }
    section.overview {
      background: #222;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 30px;
    }
    section.command-box {
      background: #222;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    .command-section {
      flex: 1;
      min-width: 300px;
    }
    .file-section {
      flex: 1;
      min-width: 300px;
      background: #1a1a1a;
      padding: 15px;
      border-radius: 6px;
    }
    code {
      background: #333;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: monospace;
      color: #f0c93d;
    }
    select {
      background: #111;
      border: 1px solid #555;
      border-radius: 4px;
      padding: 8px;
      color: #eee;
      font-family: monospace;
      margin-right: 10px;
      width: 200px;
    }
    button {
      background: #35c7f3;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      color: #121212;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #27a1d9;
    }
    .output {
      background: #111;
      margin-top: 10px;
      padding: 12px;
      border-radius: 6px;
      font-family: monospace;
      white-space: pre-wrap;
      min-height: 60px;
      color: #c5c5c5;
    }
    .file-content {
      background: #111;
      padding: 12px;
      border-radius: 6px;
      font-family: monospace;
      white-space: pre-wrap;
      max-height: 300px;
      overflow-y: auto;
      color: #c5c5c5;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th, td {
      border: 1px solid #444;
      padding: 8px 12px;
      text-align: left;
    }
    th {
      background-color: #333;
      color: #f0c93d;
    }
    tr:nth-child(even) {
      background-color: #222;
    }
    tr:hover {
      background-color: #333;
    }
    .file-title {
      color: #35c7f3;
      margin-bottom: 10px;
      font-weight: bold;
    }
    .file-system {
      margin-top: 10px;
    }
    .file-item {
      margin-left: 20px;
    }
    .directory {
      color: #35c7f3;
    }
    .file {
      color: #f0c93d;
    }
    .hidden {
      color: #888;
    }
    .message {
      color: #4CAF50;
      font-style: italic;
    }
    .warning {
      color: #ff9800;
    }
    .danger {
      color: #f44336;
    }
  </style>
</head>
<body>

<header>
  <nav>
    <a href="../">Home</a>
    <a href="../commandlist.html">Command List</a>
    <a href="../contact.html">Contact</a>
  </nav>
  <h1>Working With Files & Directories: <code>rm</code> & <code>rmdir</code></h1>
</header>

<section class="overview">
  <h2>File & Directory Removal Commands</h2>
  <p>The <code>rm</code> and <code>rmdir</code> commands remove files and directories:</p>
  <table>
    <tr>
      <th>Command</th>
      <th>Description</th>
    </tr>
    <tr>
      <td><code>rmdir dirname</code></td>
      <td>Removes empty directory</td>
    </tr>
    <tr>
      <td><code>rmdir -p parent/child</code></td>
      <td>Removes parent and child directories (if empty)</td>
    </tr>
    <tr>
      <td><code>rmdir -pv path</code></td>
      <td>Removes directories with verbose output</td>
    </tr>
    <tr>
      <td><code>rm -r dirname</code></td>
      <td>Removes directory and contents (recursive)</td>
    </tr>
    <tr>
      <td><code>rm -rf dirname</code></td>
      <td>Force removal without confirmation</td>
    </tr>
  </table>
</section>

<section class="command-box" id="rmdir-basic">
  <div class="command-section">
    <h2><code>rmdir dirname</code> - Remove Empty Directory</h2>
    <ol>
      <li><strong>What it does:</strong> Removes empty directories</li>
      <li><strong>When to use:</strong> When you need to remove an empty folder</li>
      <li><strong>Example:</strong> 
        <pre><code>rmdir temp_folder
# Removes empty 'temp_folder' directory</code></pre>
      </li>
    </ol>
    <select id="rmdirEmptyDir">
      <option value="temp_folder">temp_folder</option>
      <option value="empty_dir">empty_dir</option>
      <option value="cache">cache</option>
    </select>
    <button onclick="runRmdirBasic()">Run command</button>
    <div class="output" id="rmdirBasicOutput">Output will appear here</div>
  </div>
  <div class="file-section">
    <div class="file-title">Current Directory:</div>
    <div class="file-system" id="fileSystemRmdir">
      <div class="directory">/home/user/</div>
      <div class="directory">temp_folder/ <span class="message">(empty)</span></div>
      <div class="directory">empty_dir/ <span class="message">(empty)</span></div>
      <div class="directory">cache/ <span class="message">(empty)</span></div>
      <div class="directory">documents/</div>
      <div class="file-item"><span class="file">notes.txt</span></div>
    </div>
  </div>
</section>

<section class="command-box" id="rmdir-parents">
  <div class="command-section">
    <h2><code>rmdir -p parent/child</code> - Remove Directory Path</h2>
    <ol>
      <li><strong>What it does:</strong> Removes empty directory path</li>
      <li><strong>When to use:</strong> When you need to remove a directory and its empty parents</li>
      <li><strong>Example:</strong> 
        <pre><code>rmdir -p project/temp/build
# Removes project/temp/build if all are empty</code></pre>
      </li>
    </ol>
    <select id="rmdirPath">
      <option value="project/temp/build">project/temp/build</option>
      <option value="data/cache/temp">data/cache/temp</option>
      <option value="logs/archive/old">logs/archive/old</option>
    </select>
    <button onclick="runRmdirParents()">Run command</button>
    <div class="output" id="rmdirParentsOutput">Output will appear here</div>
  </div>
  <div class="file-section">
    <div class="file-title">Current Directory:</div>
    <div class="file-system" id="fileSystemRmdirParents">
      <div class="directory">/home/user/</div>
      <div class="directory">project/
        <div class="directory">temp/
          <div class="directory">build/ <span class="message">(empty)</span></div>
        </div>
      </div>
      <div class="directory">data/
        <div class="directory">cache/
          <div class="directory">temp/ <span class="message">(empty)</span></div>
        </div>
      </div>
      <div class="directory">logs/
        <div class="directory">archive/
          <div class="directory">old/ <span class="message">(empty)</span></div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="command-box" id="rm-recursive">
  <div class="command-section">
    <h2><code>rm -r dirname</code> - Remove Recursively</h2>
    <ol>
      <li><strong>What it does:</strong> Removes directory and all contents</li>
      <li><strong>When to use:</strong> When you need to remove non-empty directories</li>
      <li><strong>Example:</strong> 
        <pre><code>rm -r old_project
# Removes old_project and all its contents</code></pre>
      </li>
    </ol>
    <select id="rmRecursiveDir">
      <option value="old_project">old_project</option>
      <option value="backup">backup</option>
      <option value="tmp">tmp</option>
    </select>
    <button onclick="runRmRecursive()">Run command</button>
    <div class="output" id="rmRecursiveOutput">Output will appear here</div>
  </div>
  <div class="file-section">
    <div class="file-title">Current Directory:</div>
    <div class="file-system" id="fileSystemRmRecursive">
      <div class="directory">/home/user/</div>
      <div class="directory">old_project/
        <div class="file-item"><span class="file">index.html</span></div>
        <div class="directory">images/</div>
      </div>
      <div class="directory">backup/
        <div class="file-item"><span class="file">data.db</span></div>
      </div>
      <div class="directory">tmp/
        <div class="file-item"><span class="file">temp1.txt</span></div>
        <div class="file-item"><span class="file">temp2.log</span></div>
      </div>
    </div>
  </div>
</section>

<section class="command-box" id="rm-force">
  <div class="command-section">
    <h2><code>rm -rf dirname</code> - Force Remove</h2>
    <ol>
      <li><strong>What it does:</strong> Force removes without confirmation</li>
      <li><strong>When to use:</strong> When you're sure you want to remove everything</li>
      <li><strong>Warning:</strong> <span class="danger">This is dangerous! No confirmation!</span></li>
      <li><strong>Example:</strong> 
        <pre><code>rm -rf node_modules
# Force removes node_modules directory</code></pre>
      </li>
    </ol>
    <select id="rmForceDir">
      <option value="node_modules">node_modules</option>
      <option value="vendor">vendor</option>
      <option value="build">build</option>
    </select>
    <button onclick="runRmForce()">Run command</button>
    <div class="output" id="rmForceOutput">Output will appear here</div>
  </div>
  <div class="file-section">
    <div class="file-title">Current Directory:</div>
    <div class="file-system" id="fileSystemRmForce">
      <div class="directory">/home/user/</div>
      <div class="directory">node_modules/
        <div class="directory">package1/</div>
        <div class="directory">package2/</div>
      </div>
      <div class="directory">vendor/
        <div class="directory">libs/</div>
      </div>
      <div class="directory">build/
        <div class="file-item"><span class="file">app.js</span></div>
        <div class="file-item"><span class="file">styles.css</span></div>
      </div>
    </div>
  </div>
</section>

<script>
  // Track file system state
  let fileSystem = {
    '/home/user/': {
      'temp_folder/': { type: 'dir', contents: {} },
      'empty_dir/': { type: 'dir', contents: {} },
      'cache/': { type: 'dir', contents: {} },
      'documents/': { type: 'dir', contents: { 'notes.txt': { type: 'file' } } },
      'project/': {
        type: 'dir',
        contents: {
          'temp/': {
            type: 'dir',
            contents: {
              'build/': { type: 'dir', contents: {} }
            }
          }
        }
      },
      'data/': {
        type: 'dir',
        contents: {
          'cache/': {
            type: 'dir',
            contents: {
              'temp/': { type: 'dir', contents: {} }
            }
          }
        }
      },
      'logs/': {
        type: 'dir',
        contents: {
          'archive/': {
            type: 'dir',
            contents: {
              'old/': { type: 'dir', contents: {} }
            }
          }
        }
      },
      'old_project/': {
        type: 'dir',
        contents: {
          'index.html': { type: 'file' },
          'images/': { type: 'dir', contents: {} }
        }
      },
      'backup/': {
        type: 'dir',
        contents: {
          'data.db': { type: 'file' }
        }
      },
      'tmp/': {
        type: 'dir',
        contents: {
          'temp1.txt': { type: 'file' },
          'temp2.log': { type: 'file' }
        }
      },
      'node_modules/': {
        type: 'dir',
        contents: {
          'package1/': { type: 'dir', contents: {} },
          'package2/': { type: 'dir', contents: {} }
        }
      },
      'vendor/': {
        type: 'dir',
        contents: {
          'libs/': { type: 'dir', contents: {} }
        }
      },
      'build/': {
        type: 'dir',
        contents: {
          'app.js': { type: 'file' },
          'styles.css': { type: 'file' }
        }
      }
    }
  };

  // Basic rmdir command
  function runRmdirBasic() {
    const dirName = document.getElementById("rmdirEmptyDir").value;
    
    // Check if directory exists and is empty
    const dirPath = dirName + '/';
    const dirExists = checkFileExists(dirPath);
    const isEmpty = dirExists && isDirectoryEmpty(dirPath);
    
    if (!dirExists) {
      document.getElementById("rmdirBasicOutput").textContent = 
        `$ rmdir ${dirName}\n` +
        `rmdir: failed to remove '${dirName}': No such file or directory`;
      return;
    }
    
    if (!isEmpty) {
      document.getElementById("rmdirBasicOutput").textContent = 
        `$ rmdir ${dirName}\n` +
        `rmdir: failed to remove '${dirName}': Directory not empty`;
      return;
    }
    
    const output = `$ rmdir ${dirName}\n` +
                   `Removed empty directory '${dirName}'`;
    
    document.getElementById("rmdirBasicOutput").textContent = output;
    
    // Update visualization
    removeFromFileSystemVisualization('fileSystemRmdir', dirName);
  }

  // rmdir with parents command
  function runRmdirParents() {
    const path = document.getElementById("rmdirPath").value;
    const parts = path.split('/');
    const leafDir = parts[parts.length - 1];
    
    // Check if all directories in path are empty
    const allEmpty = checkDirectoryPathEmpty(path);
    
    if (!allEmpty) {
      document.getElementById("rmdirParentsOutput").textContent = 
        `$ rmdir -p ${path}\n` +
        `rmdir: failed to remove '${path}': Directory not empty`;
      return;
    }
    
    const output = `$ rmdir -p ${path}\n` +
                   `Removed directory path '${path}'`;
    
    document.getElementById("rmdirParentsOutput").textContent = output;
    
    // Update visualization
    removeFromFileSystemVisualization('fileSystemRmdirParents', leafDir);
  }

  // rm recursive command
  function runRmRecursive() {
    const dirName = document.getElementById("rmRecursiveDir").value;
    
    const output = `$ rm -r ${dirName}\n` +
                   `Removed directory '${dirName}' and all its contents`;
    
    document.getElementById("rmRecursiveOutput").textContent = output;
    
    // Update visualization
    removeFromFileSystemVisualization('fileSystemRmRecursive', dirName);
  }

  // rm force command
  function runRmForce() {
    const dirName = document.getElementById("rmForceDir").value;
    
    const output = `$ rm -rf ${dirName}\n` +
                   `<span class="danger">Force removed directory '${dirName}' and all contents</span>`;
    
    document.getElementById("rmForceOutput").innerHTML = output;
    
    // Update visualization
    removeFromFileSystemVisualization('fileSystemRmForce', dirName);
  }

  // Helper functions
  function checkFileExists(path) {
    const parts = path.split('/');
    let current = fileSystem['/home/user/'];
    
    for (const part of parts) {
      if (part && current[part] === undefined) {
        return false;
      }
      if (part) {
        current = current[part];
      }
    }
    return true;
  }

  function isDirectoryEmpty(path) {
    const parts = path.split('/').filter(p => p);
    let current = fileSystem['/home/user/'];
    
    for (const part of parts) {
      if (current[part] === undefined) {
        return false;
      }
      current = current[part];
    }
    
    return Object.keys(current.contents || {}).length === 0;
  }

  function checkDirectoryPathEmpty(path) {
    const parts = path.split('/');
    let current = fileSystem['/home/user/'];
    
    // Check all directories in the path
    for (let i = 0; i < parts.length; i++) {
      const part = parts[i];
      if (!part) continue;
      
      if (current[part] === undefined) {
        return false;
      }
      
      // For all but the last directory, we just traverse
      if (i < parts.length - 1) {
        current = current[part];
      }
    }
    
    // Now check each directory from leaf to root
    for (let i = parts.length - 1; i >= 0; i--) {
      const part = parts[i];
      if (!part) continue;
      
      if (!isDirectoryEmpty(parts.slice(0, i + 1).join('/') + '/')) {
        return false;
      }
    }
    
    return true;
  }

  function removeFromFileSystemVisualization(elementId, dirName) {
    const fileSystemElement = document.getElementById(elementId);
    const dirElements = fileSystemElement.getElementsByClassName('directory');
    
    for (let i = 0; i < dirElements.length; i++) {
      if (dirElements[i].textContent.trim().startsWith(dirName + '/')) {
        dirElements[i].remove();
        break;
      }
    }
  }

  // Initialize on page load
  window.onload = function() {
    // No initialization needed for this simulation
  };
</script>

</body>
</html>
